import { tags } from "typia";

import { IVirtualAccountAdminAlerts } from "./IVirtualAccountAdminAlerts";

/**
 * 관리자 경보/알림 엔티티 단일 객체 타입 별칭.
 *
 * Virtual_account_admin_alerts DB Record와 동등하며 상세 내역, 통계, Excel 다운로드 등 다양한 응답에
 * 활용됩니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type virtual_account_admin_alerts = IVirtualAccountAdminAlerts;
export namespace virtual_account_admin_alerts {
  /**
   * 관리자 경보 알림 신규 등록 요청 DTO입니다.
   *
   * Virtual_account_admin_alerts 테이블에 신규 알림 row를 insert할 때 사용되며, 대량 오류, 외부
   * API 장애, 시스템 경고 이벤트에 대응합니다.
   *
   * 필수값: alert_type, context_json, notified_at, clearable. 관리자 경보 alert의 모든
   * 신규 생성/등록 API에 활용됩니다.
   */
  export type ICreate = {
    /** 경보 알림의 수신 대상 관리자(UUID). 시스템 전체 알림이면 생략/빈값 허용. */
    virtual_account_admin_id?: (string & tags.Format<"uuid">) | null;

    /**
     * 경보 유형 코드.
     *
     * MASS_MISMATCH, EXTERNAL_ERROR, SECURITY_WARNING 등 비즈니스 정책별로 정의.
     */
    alert_type: string;

    /**
     * 이벤트/경보의 상세 context를 담는 JSON 문자열.
     *
     * 이상 감지시 involved account, 발생 데이터, 배경 등 포함.
     */
    context_json: string;

    /** 알림/경보의 최초 생성(발생) 시각. UTC ISO8601 포맷. */
    notified_at: string & tags.Format<"date-time">;

    /**
     * 관리자가 수동 처리가능(확인/해제) 여부.
     *
     * 대시보드 UI 및 관련 트리거 처리에 반드시 필요.
     */
    clearable: boolean;
  };

  /**
   * 관리자 경보/알림 레코드 업데이트(부분 수정·patch) 시 사용하는 DTO
   *
   * Cleared_at(확인/해제)를 포함, 일부 필드만 변경 가능. 예시: 알림 처리, 비고 추가 등 단건 patch처리 용도.
   */
  export type IUpdate = {
    /** 경보/이상 이벤트 유형코드 (변경시) */
    alert_type?: string;

    /** Context_json 필드(변경시) */
    context_json?: string;

    /** 확인/해제 가능 플래그(변경시) */
    clearable?: boolean;

    /** 경보 확인/해제(처리) 시각. null이면 미확인 상태. */
    cleared_at?: (string & tags.Format<"date-time">) | null;
  };
}
