import { tags } from "typia";

/**
 * 역할-권한 매핑 엔티티 스키마입니다.
 *
 * Virtual_account_role_permissions 테이블 한 row. 배정된 역할/권한 및 서머리 정보 포함(간략
 * role/permission 객체 형태).
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IVirtualAccountRolePermission = {
  /**
   * 프라이머리 키. Prisma 'virtual_account_role_permissions.id'에 해당하며, 각 역할-권한 연결
   * 고유 row 식별자입니다.
   */
  id: string & tags.Format<"uuid">;

  /** 역할의 UUID(FK). Prisma의 virtual_account_roles.id와 연결되며, 매핑 관계 확인용입니다. */
  role_id: string & tags.Format<"uuid">;

  /** 권한의 UUID(FK). Prisma의 virtual_account_permissions.id와 연결. RBAC 정책 조회에 필수. */
  permission_id: string & tags.Format<"uuid">;

  /** 연결된 역할 엔티티(간략 요약). */
  role?: {
    id?: string & tags.Format<"uuid">;
    name?: string;
    description?: string;
  };

  /** 연결된 권한 엔티티(간략). */
  permission?: {
    id?: string & tags.Format<"uuid">;
    code?: string;
    description?: string;
  };
};
export namespace IVirtualAccountRolePermission {
  /**
   * 역할-권한 매핑 목록 요청(검색, 필터, 페이징) 조건 객체입니다.
   *
   * Virtual_account_role_permissions 테이블의 다대다(N:M) 구조에 따라, 특정 역할/권한 기준 검색에
   * 사용되며, 페이징 처리 값도 포함합니다.
   */
  export type IRequest = {
    /**
     * 역할의 고유 식별자(UUID). Prisma 스키마
     * virtual_account_role_permissions.role_id와 매핑.
     *
     * 특정 역할에 대한 권한 매핑 검색 등에 사용됩니다.
     */
    role_id?: string & tags.Format<"uuid">;

    /**
     * 권한의 고유 식별자(UUID). Prisma 스키마
     * virtual_account_role_permissions.permission_id와 연결되어, 해당 권한을 가진 역할 매핑
     * 조회에 활용됩니다.
     */
    permission_id?: string & tags.Format<"uuid">;

    /**
     * 페이지 번호. 페이징 질의 및 응답에서 현재 페이지 값을 지정합니다.
     *
     * 기본값: 1
     */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /**
     * 페이지당 조회할 최대 행(레코드) 수.
     *
     * 기본값: 20
     */
    limit?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;
  };

  /**
   * 역할-권한 매핑 추가 요청 스키마입니다.
   *
   * Virtual_account_role_permissions 테이블에 신규 연결 추가 시 사용합니다. N:M 관계로 매핑테이블
   * row를 직접 생성합니다.
   */
  export type ICreate = {
    /**
     * 부여할 역할의 UUID. virtual_account_roles.id와 매핑.
     *
     * 실제 연결될 역할 선택 시 사용되고, N:M 관계이므로 필수값입니다.
     */
    role_id: string & tags.Format<"uuid">;

    /**
     * 연결할 권한의 UUID. virtual_account_permissions.id와 연결됩니다.
     *
     * RBAC 정책 상 동적 할당/회수에 대응합니다.
     */
    permission_id: string & tags.Format<"uuid">;
  };

  /**
   * 역할-권한 매핑 수정 요청 스키마입니다.
   *
   * Virtual_account_role_permissions 테이블의 특정 매핑 row의 역할/권한 연결자 변경, 오류시 재정렬 등
   * 목적. 전체 컬럼 필수는 아니며 부분 갱신 중점.
   */
  export type IUpdate = {
    /** 수정대상 역할 UUID(필요시 변경). */
    role_id?: string & tags.Format<"uuid">;

    /** 수정대상 권한 UUID(필요시 변경). */
    permission_id?: string & tags.Format<"uuid">;
  };
}
