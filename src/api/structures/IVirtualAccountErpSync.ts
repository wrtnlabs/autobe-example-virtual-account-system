import { tags } from "typia";

/**
 * ERP 연동 싱크(송수신 이벤트) 단일 행.
 *
 * Virtual_account_erp_syncs 테이블의 한 건을 의미하며, 외부 ERP 시스템으로의 송수신 이력 및 결과 값을 상세하게
 * 기록합니다. 필수적으로 ERP 유형, 외부시스템 정보, 페이로드, 결과 상태, 에러 및 발생 시각 등을 포함합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IVirtualAccountErpSync = {
  /**
   * ERP 연동 싱크 로그 식별자(Key).
   *
   * 각 연동 이벤트의 고유 PK(UUID)입니다. virtual_account_erp_syncs.id 컬럼에서 관리합니다.
   */
  id: string & tags.Format<"uuid">;

  /**
   * ERP 유형 테이블(virtual_account_erp_types) FK.
   *
   * 해당 연동이 어떤 ERP 유형과 관련있는지 식별합니다.
   */
  erp_type_id: string & tags.Format<"uuid">;

  /**
   * 외부 시스템 테이블(virtual_account_external_systems) FK.
   *
   * 어느 외부 시스템과 연동했는지 구분합니다.
   */
  external_system_id: string & tags.Format<"uuid">;

  /**
   * ERP 또는 외부 시스템에 전달된(혹은 받은) 원본 JSON/텍스트 페이로드.
   *
   * 송수신 데이터 전체를 문자열로 기록합니다.
   */
  payload: string;

  /**
   * 송수신 결과 상태값.
   *
   * 예: 'SUCCESS', 'FAIL' 등 업무상 성공/실패 여부 기록. 비즈니스 로직상 다양한 상태코드 정의 가능.
   */
  result_status: string;

  /**
   * 실패 시 에러 메시지.
   *
   * ERROR 또는 FAIL 시 의미를 담는 자유형 오류 메시지입니다. Null이면 정상 전송.
   */
  error_message?: string | null;

  /**
   * 이 연동 기록이 생성된 UTC 일시(varchar).
   *
   * 업무 트레이스 및 이후 조회/정렬, 시간대 별 분석 등에 사용합니다.
   */
  created_at: string & tags.Format<"date-time">;
};
export namespace IVirtualAccountErpSync {
  /**
   * ERP Sync(연동로그) 목록 조회 시의 검색/필터/페이징 파라미터 객체입니다.
   *
   * ERP 타입, 외부시스템, 결과상태 등 업무보고, 운영대시보드 등 다양한 요구조건에 필터를 적용하여 조회할 수 있습니다.
   */
  export type IRequest = {
    /** ERP 타입 UUID. (Prisma FK, ERP 연동 구분용) */
    erp_type_id?: string & tags.Format<"uuid">;

    /** 외부 시스템 UUID. (Prisma FK, 외부연동 시스템 참조) */
    external_system_id?: string & tags.Format<"uuid">;

    /** 결과 상태 필터(예: SUCCESS, FAIL 등) */
    result_status?: string;

    /** 동기화 이벤트 시작일시(Search) */
    created_from?: string & tags.Format<"date-time">;

    /** 동기화 이벤트 종료일시(Search) */
    created_to?: string & tags.Format<"date-time">;

    /** 페이지 번호 */
    page?: number &
      tags.Type<"int32"> &
      tags.Default<1> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 페이지 당 행 수 */
    size?: number &
      tags.Type<"int32"> &
      tags.Default<20> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;
  };

  /**
   * ERP 연동 로그 신규 생성 요청 DTO.
   *
   * ERP 외부 시스템 송·수신 이력을 신규로 기록할 때 사용하는 필드 집합입니다. virtual_account_erp_syncs의
   * 생성 시 요구되는 값과 정합을 갖춥니다.
   */
  export type ICreate = {
    /** ERP 유형 테이블 FK. 연동 대상 ERP 타입의 식별자입니다. */
    erp_type_id: string & tags.Format<"uuid">;

    /** 외부 시스템 테이블 FK. 연동한 외부 시스템의 식별자입니다. */
    external_system_id: string & tags.Format<"uuid">;

    /** ERP 또는 외부 시스템에 전달된 송수신 원본 데이터(JSON/텍스트 등). */
    payload: string;

    /** 송수신 결과 상태(예: 'SUCCESS', 'FAIL'). */
    result_status: string;

    /** 실패 시 에러 메시지. 정상시는 null. */
    error_message?: string | null;
  };

  /**
   * ERP 연동 싱크 데이터 수정 DTO.
   *
   * 성공/실패 상태, 에러 메시지, 송수신 페이로드 등을 수정할 때 활용합니다.
   */
  export type IUpdate = {
    /** 수정할 결과 상태값(예: SUCCESS/FAIL 등). */
    result_status: string;

    /** 에러 메시지(실패 시), 정상시 null. */
    error_message?: string | null;

    /** 수정할 송수신 데이터 원본(JSON/텍스트 등). */
    payload: string;

    /** 생성 일시(일부 수정 시 필요), 표준 UTC. */
    created_at?: string & tags.Format<"date-time">;
  };

  /**
   * ERP 연동 로그 삭제 결과 객체.
   *
   * PK와 결과 메시지(또는 상태)를 반환할 수 있습니다. 실제 사용 컨텍스트에 따라 상태 메시지 추가 가능합니다.
   */
  export type IDeleteResult = {
    /** 삭제된 ERP 연동 로그의 PK(UUID). */
    id: string & tags.Format<"uuid">;

    /** 삭제 결과 메시지 또는 상태(ex: 'success', 'not found' 등). */
    result: string;
  };
}
