import { tags } from "typia";

/**
 * 가상계좌 입금 에러 기록 엔터티 구조입니다.
 *
 * 입금 이벤트별 에러 발생 내역을 기록하며, 관리자 감사, 이력 관리, 알림 트리거, 에러 진단 등에 사용됩니다.
 *
 * Prisma DB의 virtual_account_deposit_errors 테이블과 매핑됩니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IVirtualAccountDepositError = {
  /** 입금 에러 이력의 식별자입니다. */
  id: string & tags.Format<"uuid">;

  /** 에러가 발생한 입금 이벤트의 ID입니다. virtual_account_deposits 테이블과 참조 관계입니다. */
  deposit_id: string & tags.Format<"uuid">;

  /**
   * 에러 분류 담당 관리자(수정/처리 담당자) ID. nullable.
   *
   * 자동처리/임시건의 경우 null 허용.
   */
  admin_id?: string & tags.Format<"uuid">;

  /**
   * 업무상 에러 유형/코드. 비즈 도메인 Layer에서 정의 가능.
   *
   * 예: 'AMOUNT_NOT_MATCH', 'PG_TIMEOUT', 'ACCOUNT_EXPIRED' 등
   */
  error_code: string;

  /**
   * 상세 에러 메시지.
   *
   * 은행/PG 등 외부기관으로부터 받은 메시지, 시스템 에러 설명 등 포함.
   */
  error_message: string;

  /** 개발/시스템 용 추가 상세 정보(예: 원본 JSON 등). */
  error_detail?: string;

  /** 에러 발생 일시. 감사/이력용 필수 항목입니다. */
  occurred_at: string & tags.Format<"date-time">;
};
export namespace IVirtualAccountDepositError {
  /**
   * 가상계좌 입금 에러 이력 리스트 조회 시 사용하는 복합 쿼리·페이징 파라미터입니다.
   *
   * 입금 에러 ID, 관리자, 에러 코드, 발생 시각 등 다양한 조건으로 필터링이 가능합니다. 페이징과 목록 UI 구현을 위한 표준
   * 필드를 포함합니다.
   */
  export type IRequest = {
    /** 오류 발생 입금 이벤트의 ID. 해당 이벤트만 필터링 조회에 사용됩니다. */
    deposit_id?: string & tags.Format<"uuid">;

    /** 에러 처리 담당 관리자/운영자의 ID입니다. 여러 관리자 중 특정 담당자 에러만 조회 필요 시 활용합니다. */
    admin_id?: string & tags.Format<"uuid">;

    /**
     * 에러 코드 값. 예: 'AMOUNT_NOT_MATCH', 'ACCOUNT_EXPIRED', 'PG_ERROR' 등 도메인
     * 비즈니스 코드입니다.
     */
    error_code?: string;

    /** 입금 에러의 처리 상태(선별 검색용). 예: 새로 접수된 에러 vs. 처리 완료 등. */
    status?: string;

    /** 에러 발생 기간 검색(시작). ISO8601 형식의 일시 필터입니다. */
    occurred_from?: string & tags.Format<"date-time">;

    /** 에러 발생 기간 검색(종료). ISO8601 형식의 일시 필터입니다. */
    occurred_to?: string & tags.Format<"date-time">;

    /** 페이징 요청시 페이지 번호. 1부터 시작합니다. */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 페이지당 결과 레코드 수. */
    limit?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;
  };

  /**
   * 가상계좌 입금 에러 새 로그 생성 시 작성하는 요청 타입입니다.
   *
   * 에러 발생 대상 입금, 시스템/비즈 에러코드와 상세 메시지, 담당자, 발생일시 등을 기록합니다.
   */
  export type ICreate = {
    /** 에러 등록 대상 입금 이벤트의 ID입니다. */
    deposit_id: string & tags.Format<"uuid">;

    /** 에러 분류/처리 관리자 ID(없을 경우 null). */
    admin_id?: string & tags.Format<"uuid">;

    /** 업무, 시스템 상의 에러 유형 코드(비즈니스 도메인 정의). */
    error_code: string;

    /** 상세 오류 메시지/설명. 외부기관 메시지·경고포함. */
    error_message: string;

    /** 추가 시스템 상세값/개발자 참고(예: 원본 JSON, stacktrace 등). */
    error_detail?: string;

    /** 에러 발생 시각(ISO). */
    occurred_at: string & tags.Format<"date-time">;
  };

  /**
   * 입금 에러 기록 수정 시 사용되는 요청 본문 타입입니다.
   *
   * 업무상 재분류, 메시지 수정 등 목적입니다.
   */
  export type IUpdate = {
    /** 에러 유형 수정값. 예: PG_TIMEOUT, MANUAL_REVIEW 등 */
    error_code?: string;

    /** 에러 메시지/설명값 수정 */
    error_message?: string;

    /** 개발/시스템 상세정보 변경(예: stacktrace 등) */
    error_detail?: string;
  };
}
